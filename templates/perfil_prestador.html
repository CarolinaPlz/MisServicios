{% from "components/estrellas.html" import render_estrellas %}
{% extends "base.html" %}

{% block page_header %}
    {% set titulo = "Perfil del prestador" %}
    {% set subtitulo = "Mira los detalles del perfil del prestador" %}
    {% include "components/page_header.html" %}
{% endblock %}

{% block content %}

<div class="card servicio-card p-4 mb-4 text-center">

    {% if prestador.imagen %}
        <img src="{{ url_for('static', filename='uploads/' + prestador.imagen) }}"
             class="rounded-circle mb-3"
             width="140" height="140">
    {% endif %}

    <h4>{{ prestador.nombre }}</h4>
    <p class="text-muted">{{ prestador.email }}</p>

</div>

<h4>Servicios publicados</h4>

<div class="row">
    {% for servicio in servicios %}
        <div class="col-md-4 mb-3">
            <div class="card servicio-card p-3">
                <h5>{{ servicio.titulo }}</h5>

                {% if servicio.promedio_estrellas() %}
                    <span class="badge bg-success">
                        {{ render_estrellas(servicio.promedio_estrellas()) }}
                    </span>
                {% endif %}

                <p>{{ servicio.descripcion }}</p>
                <span class="badge bg-primary">{{ servicio.categoria }}</span>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}
