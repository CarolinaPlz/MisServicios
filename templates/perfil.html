{% extends "base.html" %}

{% block page_header %}
    {% set titulo = "Editar perfil" %}
    {% set subtitulo = "Editá tu perfil en MisServicios" %}
    {% include "components/page_header.html" %}
{% endblock %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">

        <div class="card shadow-sm">
            <div class="card-body">

                <form method="POST" enctype="multipart/form-data">

                    <!-- Foto actual -->
                    <div class="text-center mb-4">
                        {% if usuario.imagen %}
                            <img src="{{ url_for('static', filename='uploads/' + usuario.imagen) }}"
                                 class="rounded-circle mb-3"
                                 width="120" height="120">
                        {% else %}
                            <div class="prestador-avatar-placeholder mx-auto" style="width:120px;height:120px;font-size:36px;">
                                {{ usuario.nombre[0] }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Cambiar foto -->
                    <label class="fw-bold mb-2">Foto de perfil</label>
                    <input type="file" name="imagen" class="form-control">

                    <!-- Nombre -->
                    <label class="fw-bold mt-4 mb-2">Nombre</label>
                    <input type="text"
                           name="nombre"
                           class="form-control"
                           value="{{ usuario.nombre }}"
                           required>

                    <!-- Email -->
                    <label class="fw-bold mt-4 mb-2">Email</label>
                    <input type="email"
                           name="email"
                           class="form-control"
                           value="{{ usuario.email }}"
                           required>

                    <!-- Rol -->
                    <label class="fw-bold mt-4 mb-2">Rol</label>
                    <input type="text"
                           class="form-control"
                           value="{{ usuario.rol }}"
                           disabled>

                    <!-- Botón -->
                    <button class="btn btn-primary w-100 mt-4">
                        Guardar cambios
                    </button>

                </form>

            </div>
        </div>

    </div>
</div>

{% endblock %}