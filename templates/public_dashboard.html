{% extends "base.html" %}

{% block page_header %}
    {% set titulo = "Servicios disponibles" %}
    {% set subtitulo = "Explorá los servicios mejor valorados por la comunidad" %}
    {% include "components/page_header.html" %}
{% endblock %}

{% block content %}

<div class="row g-4">
  {% for s in servicios %}
  <div class="col-md-4">

    <div class="card servicio-card h-100">
      <div class="card-body d-flex flex-column">

        <!-- TÍTULO -->
        <h5 class="card-title mb-1">
            {{ s.titulo }}
        </h5>

        <!-- ESTRELLAS -->
        {% if s.promedio_estrellas() %}
            <div class="estrellas-card">
                ⭐ {{ s.promedio_estrellas() }}
            </div>
        {% else %}
            <span class="badge bg-secondary mb-2">
                Sin calificaciones
            </span>
        {% endif %}

        <!-- DESCRIPCIÓN -->
        <p class="card-text mt-2">
            {{ s.descripcion }}
        </p>

        <!-- CATEGORÍA -->
        <div class="mt-3">
            <span class="badge bg-primary">
                {{ s.categoria }}
            </span>
        </div>

        <!-- FOOTER -->
        <div class="mt-auto text-center pt-4">

            <p class="text-muted mb-2" style="font-size: 0.85rem;">
                Iniciá sesión para interactuar con este servicio
            </p>

            <a href="{{ url_for('login') }}"
               class="btn btn-outline-primary btn-sm">
                Ver más
            </a>

        </div>

      </div>
    </div>

  </div>
  {% endfor %}
</div>

{% endblock %}